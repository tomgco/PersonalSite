function Clear(){$(document).bind("Clear.Init",function(){$("#terminal").html("");$(".command").val("")})};function Command(){function a(){$(document).trigger("Echo.Init")}function b(){$(document).trigger("Help.Init")}function c(){$(document).trigger("Make.Init")}function f(){$(document).trigger("Clear.Init")}function d(){$(document).trigger("Projects.Init")}new Clear;new Echo;new Help;new Make;new Projects;$(document).bind("Terminal.Model.Init",function(){$(document).bind("Command.echo",a);$(document).bind("Command.help",b);$(document).bind("Command.make",c);$(document).bind("Command.clear",f);$(document).bind("Command.projects",
d)})};function Echo(){$(document).bind("Echo.Init",function(){var a=Terminal.prototype.parsedCommand().params.join(" ");$("#terminal").append(a+"<br />");$(".command").val("")})};function Help(){$(document).bind("Help.Init",function(){Terminal.prototype.parsedCommand().params.join(" ");$("#terminal").append("This is a list of commands that you can currently use!<br /><br />");$.each($.data(document,"events").Command,function(a,b){$("#terminal").append(b.namespace+"<br />")});$(".command").val("")})};function Make(){$(document).bind("Make.Init",function(){var a="";switch(Terminal.prototype.parsedCommand().params.join(" ")){case "me a sandwich":a="No.";break;default:a="make: *** No targets specified and no makefile found. Stop."}$("#terminal").append(a+"<br />");$(".command").val("")})};function Projects(){$(document).bind("Projects.Init",function(){var a={"www.shortlist.com":"ShortList: A free lifestyle magazine.","www.stylist.co.uk":"Stylist Magazine.","www.jarredchristmas.com":"Jarred Christmas: A google maps based gig site - currently not live.","www.gawkwall.com":"Gawk Wall, A social video site, which i'm currently developing an iPhone app for.","www.tomg.co":"This site built using javascript, Php and soon to be 'node.js'","www.tomg.co/followme":"Follow Me: A service to follow the ones you love on their jounery home."},
b=Terminal.prototype.parsedCommand().params.join(" "),c="";void 0!==a[b]?(c="Project Information for: "+b+"<br />",c+='<br /><a target="_blank" href="http://'+b+'">'+b+"</a> - "+a[b]):(c="These are the the following projects I am currently / have worked on:<br />",$.each(a,function(a,d){c+='<br /><a target="_blank" href="http://'+a+'">'+a+"</a> - "+d}));$("#terminal").append(c+"<br />");$(".command").val("")})};function Config(a){var b=a.apiLocation;Config.prototype.getApiLocation=function(){return b}};function Terminal(){function a(){$(".text-input").html($(".command").val()+'<span class="cursor">&nbsp;</span>')}function b(){$("#terminal").append('guest@tomg.co:/$&nbsp;<span class="text-input"><span class="cursor">&nbsp;</span>');$(".command").val("");$("#terminal").attr({scrollTop:$("#terminal").attr("scrollHeight")})}var c=0,f=[];setup=new Setup;command=new Command;$(document).bind("keydown",function(){$(".command").focus()});$(document).bind("Terminal.Cursor.Start",function(){cursorBlink=setInterval(function(){$(".cursor").toggleClass("hidden")},
500)});$(document).bind("Terminal.ParseCommand",function(){var a=$(".command").val();_gaq.push(["_trackEvent","Commands",a]);Terminal.prototype.parsedCommand=function(){var c=a.split(" ").reverse();return command={name:c.pop(),params:c.reverse()}};$(".text-input").remove();var e=Terminal.prototype.parsedCommand().name;$("#terminal").append(a);$("#terminal").append("<br />");if(e){var g=!1;$.each($.data(document,"events").Command,function(a,c){c.namespace==e&&(g=!0,$(document).trigger("Command."+e))});
g||($("#terminal").append(e+": command not found<br />"),$(".command").val(""));f.push(a);c=f.length}b()});$(".command").bind("keydown",a);$(".command").bind("keyup",function(b){"13"==b.keyCode?($(document).trigger("Terminal.ParseCommand"),b.preventDefault()):"38"==b.keyCode?0!=f.length&&0!=c&&(c--,$(".command").val(f[c]),$(".text-input").html(f[c])):"40"==b.keyCode?0!=f.length&&0!=c&&(c++,$(".command").val(f[c]),$(".text-input").html(f[c])):a()});$(document).trigger("Terminal.Model.Init");b()};$(function(){terminal=new Terminal});var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-24124485-1"]);_gaq.push(["_setDomainName","tomg.co"]);_gaq.push(["_setAllowLinker",!0]);_gaq.push(["_trackPageview"]);_gaq.push(["_trackPageLoadTime"]);
(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();(function(a){a.fn.latestTweets=function(b){var c=this;c.options=a.extend({},{user:"twitter",numberOfTweets:4,callback:function(){}},b);return this.each(function(){a.ajax({url:"https://api.twitter.com/1/statuses/user_timeline/"+c.options.user+".json",dataType:"jsonp",success:function(b){for(var d="",e=0;e<c.options.numberOfTweets;e++)"undefined"!=typeof b[e]&&(d+='<div class="tweet">'+a("<p/>").text(b[e].text).text()+"</div>");b=d.replace(/([A-Za-z]{3,9}):\/\/([-;:&=\+\$,\w]+@{1})?([-A-Za-z0-9\.]+)+:?(\d+)?((\/[-\+~%/\.\w]+)?\??([-\+=&;%@\.\w]+)?#?([\w]+)?)/g,
'<a target="_blank" href="$&">$&</a>');b=b.replace(/(^|[^a-z0-9_])#([a-z0-9_]+)/gi,'$1#<a href="https://twitter.com/#!/search/%23$2">$2</a>');b=b.replace(/(^|[^a-z0-9_])@([a-z0-9_]+)/gi,'$1@<a href="https://www.twitter.com/$2">$2</a>');a(c).html(b);c.options.callback()}})})}})(jQuery);$(function(){var a=$("#main-content"),b=a.width()/2,c=a.height()/2,f=a.offset();0<$("#main-content").children("#terminal").length&&(a.mousemove(function(d){var e=d.pageX-f.left,d=d.pageY-f.top;e<b&&d<c?a.attr("class","top-left"):e<b&&d>c?a.attr("class","bottom-left"):e>b&&d<c?a.attr("class","top-right"):e>b&&d>c&&a.attr("class","bottom-right")}),a.mouseout(function(){a.attr("class","normal")}))});function Setup(){$(document).bind("Terminal.Model.Init",function(){$(document).trigger("keydown");$(document).trigger("Terminal.Cursor.Start")})};
